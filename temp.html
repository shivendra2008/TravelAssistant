<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>GPay Style â€” Email OTP Mockup (fixed)</title>

<!-- Tailwind (optional for convenience) -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Font Awesome so the arrow icon shows -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --yellow: #f7b81a;
    --top-yellow: #ffb600;
    --muted: #6b7280;
    --thin-border: rgba(0,0,0,0.25);
  }

  /* Page */
  body{
    font-family: Inter, system-ui, Arial;
    background: var(--yellow);
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:100vh;
    padding:20px;
    margin:0;
  }

  /* Card */
  .wrap{
    width:100%;
    max-width:420px;
    border-radius:28px;
    overflow:hidden;
    background:#fff;
    border: 1px solid #000;
    box-shadow:0 20px 50px rgba(0,0,0,0.62);
  }

  /* Top yellow area */
  .top{
    background: var(--top-yellow);
    padding:48px 30px 70px;
    position:relative;
  }

  .top h1{ font-size:26px; font-weight:700; margin:0; color:#111; }
  .top p{ margin-top:6px; color: rgba(0,0,0,0.75); }

  /* small logo container */
  .logo{
    width:64px;height:64px;border-radius:12px;
    background:rgba(0,0,0,0.06);
    display:flex;align-items:center;justify-content:center;
  }

  /* SVG wave: stays as before */
  .wave{
    position:absolute; left:0; right:0; bottom:-30px; height:80px;
    background:
      url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 120" preserveAspectRatio="none"><path d="M0,60 C150,0 300,120 800,60 L800 120 L0 120 Z" fill="%23ffffff"/></svg>')
      no-repeat center bottom/cover;
  }

  /* Content (form area) */
  .content{
    padding:28px 26px 38px;
    margin-top:10px;
  }

  /* pill input wrapper - thin border fixed */
  .pill{
    display:flex;
    align-items:center;
    gap:12px;
    padding:12px 16px;
    border-radius:999px;
    background:#fff;
    border:1px solid var(--thin-border);   /* thin visible border */
    box-shadow:0 6px 18px rgba(0,0,0,0.06);
  }

  .pill input{
    background:transparent;
    border:none;
    outline:none;
    width:100%;
    font-weight:600;
    font-size:15px;
  }

  /* "go" button: preserve original id/class name 'go' */
  .go {
    width:56px;
    height:56px;
    border-radius:50%;
    background:#111;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    margin:14px auto;
    box-shadow:0 12px 28px rgba(0,0,0,0.15);
    border:none;
    cursor:pointer;
    position: relative;
  }

  /* ensure the icon inside .go is white */
  .go i { color: #fff; font-size:18px; }

  /* OTP grid */
  .otp-row{
    display:grid;
    grid-template-columns:repeat(6, 1fr);
    gap:8px;
    margin-top:14px;
    justify-items:center;   /* center items in their grid cells */
  }

  /* OTP input: fixed width, box-sizing, monospace font */
  .otp{
    width:48px;                /* fixed width to prevent layout shift */
    height:52px;
    box-sizing:border-box;
    font-size:20px;
    text-align:center;
    border-radius:12px;
    background:#f6f6f7;
    border:1px solid var(--thin-border);  /* thin border that doesn't change on focus */
    outline:none;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  }

  /* Focus style uses box-shadow (no border size change) */
  .otp:focus{
    box-shadow:0 0 0 3px rgba(0,0,0,0.06);
  }

  /* Make sure OTP container doesn't cause horizontal scroll on small phones */
  @media (max-width:420px){
    .otp{ width:44px; height:50px; }
  }

  /* Verify button (keeps id 'verify') */
  #verify{
    width:100%;
    background:#111;
    color:#fff;
    border-radius:12px;
    padding:12px;
    border:none;
    margin-top:12px;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:10px;
    cursor:pointer;
  }

  /* ensure the arrow on verify is white & visible */
  #verify i { color:#fff; font-size:14px; }
/* HIDES THE ARROW WRAPPER SPAN */
.btn-loading .arrow {
    display: none;
}

/* HIDES THE UNUSED SPINNER SPAN (Prevents it from taking up space) */
.btn-loading .spinner {
    display: none;
}
  /* loader state helper (same as before) */
  .btn-loading{ position:relative; pointer-events:none; opacity:0.85; }
  .btn-loading:after{
    content: "";
    position: absolute;
    /* Center the spinner instead of offsetting it */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    
    width: 18px;
    height: 18px;
    border: 3px solid white;
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin .7s linear infinite;  }
 
  

  /* small muted text */
  .muted{ color: var(--muted); font-size:13px; }
</style>
</head>
<body>

<div class="wrap">
  <div class="top">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <h1 style="font-size:26px;font-weight:700">Welcome!</h1>
        <div style="margin-top:6px;color:rgba(0,0,0,0.75)">Sign in to Continue</div>
      </div>

      <div class="logo">
        <img src="https://cdn-icons-png.flaticon.com/512/3595/3595455.png" style="width:38px" alt="logo">
      </div>
    </div>

    <div class="wave" aria-hidden="true"></div>
  </div>

  <div class="content">

    <!-- EMAIL STEP -->
    <div id="emailStep">
      <div style="margin-bottom:12px">
        <div class="pill">
          <i class="fa-regular fa-envelope text-gray-500"></i>
          <input id="email" placeholder="Email" aria-label="Email"
            style="font-weight:bold;background:transparent;width:100%;outline:none;border:none">
        </div>
      </div>

      <div id="nameRow" style="display:none;margin-bottom:12px">
        <div class="pill">
          <i class="fa-regular fa-user text-gray-500"></i>
          <input id="name" placeholder="Full name" aria-label="Full name"
            style="background:transparent;width:100%;outline:none;border:none">
        </div>
      </div>

      <div style="text-align:center">
        <!-- keep original id & class 'go' to avoid breaking scripts -->
        <button id="go" class="go" title="Continue">
    <span class="arrow"><i class="fa-solid fa-arrow-right"></i></span>
    <span class="spinner"></span>
</button>

      </div>
    </div>

    <!-- OTP STEP -->
    <div id="otpStep" style="display:none">
      <div class="muted small text-center">Enter OTP sent to</div>
      <div id="emailShown" style="text-align:center;font-weight:600;margin-top:6px"></div>

      <div class="otp-row" role="group" aria-label="OTP inputs">
        <!-- six fixed-width inputs to avoid layout shift -->
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp" />
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp" />
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp" />
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp" />
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp" />
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp" />
      </div>

      <div style="margin-top:12px">
        <!-- keep id 'verify' so your JS remains intact -->
        <button id="verify">
          Verify OTP
          <!-- white arrow is visible now -->
          <i class="fa-solid fa-arrow-right"></i>
        </button>
      </div>

      <div style="display:flex;justify-content:space-between;margin-top:10px">
        <button id="resend" class="muted small">Resend OTP</button>
        <button id="change" class="muted small">Use different email</button>
      </div>
    </div>

    <div id="status" class="muted small" style="margin-top:12px;text-align:center"></div>

  </div>
</div>

<script>
  /* --- YOUR ORIGINAL DEMO LOGIC (unchanged flow) --- */
  const email = document.getElementById('email');
  const nameRow = document.getElementById('nameRow');
  const name = document.getElementById('name');
  const go = document.getElementById('go');          // preserved
  const emailStep = document.getElementById('emailStep');
  const otpStep = document.getElementById('otpStep');
  const emailShown = document.getElementById('emailShown');
  const status = document.getElementById('status');
  const otpInputs = [...document.querySelectorAll('.otp')];
  const verify = document.getElementById('verify');

  async function existsDemo(e){ return {exists: e.includes('known'), name: 'Sonal'}; }
  async function fakeSend(){ await new Promise(r=>setTimeout(r,800)); return true; }

  go.addEventListener('click', async ()=>{
    status.textContent='';
    if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value.trim())){
      status.textContent='Enter valid email';
      return;
    }
    go.classList.add('btn-loading'); go.disabled=true;
    const check = await existsDemo(email.value.trim());
    if(check.exists) nameRow.style.display='none';
    else nameRow.style.display='block';
    if(!check.exists && !name.value.trim()){
      status.textContent='Enter full name';
      go.classList.remove('btn-loading'); go.disabled=false;
      return;
    }
    await fakeSend();
    emailShown.textContent = email.value.trim();
    emailStep.style.display='none'; otpStep.style.display='block';
    go.classList.remove('btn-loading'); go.disabled=false;
  });

  otpInputs.forEach((ip,i)=>{
    ip.addEventListener('input',e=>{
      e.target.value=e.target.value.replace(/[^0-9]/g,'');
      if(e.target.value && i<otpInputs.length-1) otpInputs[i+1].focus();
    });
    ip.addEventListener('keydown',e=>{
      if(e.key==='Backspace' && !e.target.value && i>0) otpInputs[i-1].focus();
    });
  });

  verify.addEventListener('click', async ()=>{
    verify.classList.add('btn-loading'); verify.disabled=true;
    const code = otpInputs.map(i=>i.value).join('');
    if(code.length!==6){
      status.textContent='Enter 6-digit code';
      verify.classList.remove('btn-loading'); verify.disabled=false;
      return;
    }
    await new Promise(r=>setTimeout(r,700));
    status.textContent='Verified (demo)';
    verify.classList.remove('btn-loading'); verify.disabled=false;
  });

  document.getElementById('change').addEventListener('click', ()=>{
    otpStep.style.display='none'; emailStep.style.display='block'; status.textContent='';
  });

  document.getElementById('resend').addEventListener('click', async ()=>{
    status.textContent='Resending...';
    await new Promise(r=>setTimeout(r,700));
    status.textContent='OTP resent (demo)';
  });
</script>

</body>
</html>
